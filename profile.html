<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Account - LinkMaker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Profile Page Mobile Optimizations */
        @media (max-width: 768px) {
            .profile-header {
                padding: 40px 20px !important;
            }
            #displayNameHeading {
                font-size: 26px !important;
            }
            .dashboard-card {
                border-radius: 0 !important;
                border: none !important;
                box-shadow: none !important;
            }
            .profile-form-container {
                padding: 30px 20px !important;
            }
            .profile-field-card {
                padding: 16px !important;
                border-radius: 12px !important;
            }
            .profile-input-group {
                flex-direction: column !important;
                align-items: stretch !important;
                gap: 12px !important;
            }
            .profile-input-group input {
                font-size: 16px !important;
                width: 100% !important;
                min-width: auto !important;
            }
            .profile-input-group button {
                width: 100%;
                justify-content: center;
                padding: 14px !important;
            }
            .profile-actions-container {
                flex-direction: column !important;
                gap: 12px !important;
            }
            .profile-actions-container a, 
            .profile-actions-container button {
                width: 100% !important;
                justify-content: center;
                padding: 16px !important;
                margin: 0 !important;
            }
            .hero-section {
                padding-top: 40px !important;
            }
            .hero-title {
                font-size: 32px !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <a href="index.html" style="text-decoration: none; display: flex; align-items: center; gap: 12px;">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.5 3C11.0147 3 9 5.01472 9 7.5C9 7.88889 9.05263 8.26316 9.15789 8.61111L3.61111 14.1579C3.26316 14.0526 2.88889 14 2.5 14C1.11929 14 0 15.1193 0 16.5C0 17.8807 1.11929 19 2.5 19C3.88071 19 5 17.8807 5 16.5C5 16.1111 4.94737 15.7368 4.84211 15.3889L10.3889 9.84211C10.7368 9.94737 11.1111 10 11.5 10C11.8889 10 12.2632 9.94737 12.6111 9.84211L18.1579 15.3889C18.0526 15.7368 18 16.1111 18 16.5C18 17.8807 19.1193 19 20.5 19C21.8807 19 23 17.8807 23 16.5C23 15.1193 21.8807 14 20.5 14C20.1111 14 19.7368 14.0526 19.3889 14.1579L13.8421 8.61111C13.9474 8.26316 14 7.88889 14 7.5C14 5.01472 11.9853 3 9.5 3H13.5Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <span class="logo-text">LinkMaker</span>
                </a>
            </div>
            
            <ul class="nav-center">
                <li><a href="index.html#features" class="nav-link">Features</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
            </ul>
            
            <div class="nav-right">
                <button class="btn-login" id="logoutBtnTop">Logout</button>
            </div>
        </div>
    </nav>

    <main>
        <section class="hero-section" style="padding-top: 60px;">
            <div class="container">
                <div class="badge">
                    <svg style="width: 14px; height: 14px;" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                    </svg>
                    <span>ACCOUNT SETTINGS</span>
                </div>
                <h1 class="hero-title">Your <span class="text-blue">Profile</span></h1>
            </div>
        </section>

        <section class="dashboard-section" style="margin-top: -40px; padding-bottom: 80px;">
            <div class="container-small">
                <div class="dashboard-card" style="padding: 0; overflow: hidden; border-radius: 24px;">
                    <!-- Profile Header -->
                    <div class="profile-header" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); padding: 60px 40px; text-align: center; color: white;">
                        <div style="position: relative; display: inline-block;">
                            <div id="profileInitial" style="width: 110px; height: 110px; background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); border: 4px solid rgba(255, 255, 255, 0.4); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: 800; margin: 0 auto 20px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);">
                                K
                            </div>
                        </div>
                        <h2 id="displayNameHeading" style="font-size: 32px; font-weight: 800; margin-bottom: 8px; letter-spacing: -1px;">Krushna Anil Kaminwar</h2>
                        <p style="opacity: 0.9; font-size: 16px; font-weight: 500;">Member since <span id="displayJoinYear">2024</span></p>
                    </div>

                    <!-- Profile Form -->
                    <div class="profile-form-container" style="padding: 40px;">
                        <div style="display: grid; gap: 24px; margin-bottom: 40px;">
                            <!-- Full Name Field -->
                            <div class="profile-field-card" style="background: #f8fafc; padding: 24px; border-radius: 16px; border: 1px solid #e2e8f0; transition: all 0.3s ease;">
                                <label style="display: block; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;">Full Name</label>
                                <div class="profile-input-group" style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                                    <input type="text" id="userNameInput" value="Krushna Anil Kaminwar" 
                                        style="flex: 1; min-width: 200px; font-size: 18px; color: #0f172a; font-weight: 600; background: #fff; border: 1px solid #cbd5e1; border-radius: 12px; padding: 12px 16px; outline: none; transition: all 0.2s ease;" 
                                        readonly spellcheck="false">
                                    <button id="editNameBtn" class="btn-primary" style="padding: 12px 24px; font-size: 14px; white-space: nowrap;">Edit Profile</button>
                                </div>
                                <p style="font-size: 13px; color: #94a3b8; margin-top: 10px;">This name will be displayed across your shortened links and dashboard.</p>
                            </div>

                            <!-- Email Field -->
                            <div class="profile-field-card" style="background: #f8fafc; padding: 24px; border-radius: 16px; border: 1px solid #e2e8f0;">
                                <label style="display: block; font-size: 12px; font-weight: 700; color: #64748b; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;">Login Email</label>
                                <div style="display: flex; align-items: center; gap: 12px; color: #0f172a;">
                                    <svg style="width: 20px; height: 20px; color: #3b82f6;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                    </svg>
                                    <span id="userEmailDisplay" style="font-size: 18px; font-weight: 600; word-break: break-all;">krishnakaminwar021@gmail.com</span>
                                </div>
                                <p style="font-size: 13px; color: #94a3b8; margin-top: 10px;">Your primary email address linked to your Google Account.</p>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="profile-actions-container" style="display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; padding-top: 20px; border-top: 1px solid #f1f5f9;">
                            <a href="index.html" class="btn-login" style="text-decoration: none; padding: 14px 32px; display: flex; align-items: center; gap: 8px;">
                                <svg style="width: 18px; height: 18px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                                </svg>
                                Back to Dashboard
                            </a>
                            <button id="logoutBtnMain" class="btn-primary" style="background: #ef4444; border: none; padding: 14px 32px; display: flex; align-items: center; gap: 8px;">
                                <svg style="width: 18px; height: 18px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                                </svg>
                                Logout Account
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        const nameInput = document.getElementById('userNameInput');
        const editBtn = document.getElementById('editNameBtn');
        const profileInitial = document.getElementById('profileInitial');
        const displayNameHeading = document.getElementById('displayNameHeading');

        // Load saved name and update UI
        function updateProfileUI() {
            const savedName = localStorage.getItem('userDisplayName') || "Krushna Anil Kaminwar";
            const savedEmail = localStorage.getItem('userEmail') || "krishnakaminwar021@gmail.com";
            const savedYear = localStorage.getItem('joinYear') || "2024";
            
            nameInput.value = savedName;
            displayNameHeading.textContent = savedName;
            profileInitial.textContent = savedName.charAt(0).toUpperCase();
            
            // Check if userEmail exists in localStorage, otherwise use fallback
            const actualEmail = localStorage.getItem('userEmail');
            if (actualEmail) {
                document.getElementById('userEmailDisplay').textContent = actualEmail;
            } else {
                document.getElementById('userEmailDisplay').textContent = savedEmail;
            }
            
            document.getElementById('displayJoinYear').textContent = savedYear;
        }

        updateProfileUI();

        editBtn.addEventListener('click', () => {
            if (nameInput.hasAttribute('readonly')) {
                // Switch to edit mode
                nameInput.removeAttribute('readonly');
                nameInput.style.borderColor = '#3b82f6';
                nameInput.style.boxShadow = '0 0 0 4px rgba(59, 130, 246, 0.1)';
                nameInput.focus();
                editBtn.textContent = 'Save Changes';
                editBtn.style.background = '#16a34a'; // Green for save
            } else {
                // Save name
                const newName = nameInput.value.trim();
                if (newName) {
                    localStorage.setItem('userDisplayName', newName);
                    nameInput.setAttribute('readonly', true);
                    nameInput.style.borderColor = '#cbd5e1';
                    nameInput.style.boxShadow = 'none';
                    editBtn.textContent = 'Edit Profile';
                    editBtn.style.background = ''; // Reset to primary
                    updateProfileUI();
                } else {
                    alert('Please enter a valid name.');
                }
            }
        });

        // Simple script to handle logout on this specific page
        function logout() {
            localStorage.removeItem('isLoggedIn');
            // We keep the name in storage so it's there when they log back in
            window.location.href = 'index.html';
        }
        document.getElementById('logoutBtnTop').addEventListener('click', logout);
        document.getElementById('logoutBtnMain').addEventListener('click', logout);

        // Redirect if not logged in
        if (localStorage.getItem('isLoggedIn') !== 'true') {
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
